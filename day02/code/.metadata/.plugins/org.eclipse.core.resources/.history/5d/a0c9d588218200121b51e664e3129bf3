package com.itheima.login.service;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;

import android.content.Context;
import android.content.SharedPreferences;
import android.content.SharedPreferences.Editor;
import android.os.Environment;

import com.itheima.login.utils.StreamTools;

public class SaveService {
	/**
	 * 保存数据到手机rom的文件里面.
	 * @param context 应用程序的上下文 提供环境
	 * @param name 用户名
	 * @param password 密码
	 * @throws Exception
	 */
	public static void saveToRom(Context context, String name , String password) throws Exception{
		//File file = new File("/data/data/com.itheima.login/files/pwd.txt");
		File file = new File(context.getFilesDir(),"pwd.txt");
		FileOutputStream fos = new FileOutputStream(file);
		String txt = name+":"+password;
		fos.write(txt.getBytes());
		fos.flush();
		fos.close();
	}
	/**
	 * 从rom读取用户的密码信息
	 * @param context
	 * @return
	 */
	public static String readFromRom(Context context) throws Exception{
		File file = new File(context.getFilesDir(),"pwd.txt");
		FileInputStream fis = new FileInputStream(file);
		String result = StreamTools.readFromStream(fis);
		return result;
	}
	
	/**
	 * 保存数据到SD卡
	 * @param name 用户名
	 * @param password 密码
	 * @throws Exception
	 */
	public static void saveTOSD(String name ,String password) throws Exception{
		File file = new File(Environment.getExternalStorageDirectory(),"pwd.txt");
		FileOutputStream fos = new FileOutputStream(file);
		String txt = name+":"+password;
		fos.write(txt.getBytes());
		fos.flush();
		fos.close();
	}
	
	/**
	 * 保存应用程序数据 到sharedpreference
	 * @param context 上下文
	 * @param name 姓名
	 * @param password 密码
	 */
	public static void saveTOSP (Context context, String name, String password){
		//获取系统的一个sharedpreference文件  名字叫 sp
		SharedPreferences sp = context.getSharedPreferences("sp", Context.MODE_PRIVATE);
		//创建一个编辑器 可以编辑 sp
		Editor editor = sp.edit();
		
		editor.putString("name", name);
		editor.putString("password", password);
		
		//注意:
		editor.commit();
		
	}
	
	
}
